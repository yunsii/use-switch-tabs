var te=Object.defineProperty,ae=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var ir=Object.prototype.hasOwnProperty,sr=Object.prototype.propertyIsEnumerable;var ar=(r,e,n)=>e in r?te(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,A=(r,e)=>{for(var n in e||(e={}))ir.call(e,n)&&ar(r,n,e[n]);if(F)for(var n of F(e))sr.call(e,n)&&ar(r,n,e[n]);return r},S=(r,e)=>ae(r,ie(e));var H=(r,e)=>{var n={};for(var t in r)ir.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&F)for(var t of F(r))e.indexOf(t)<0&&sr.call(r,t)&&(n[t]=r[t]);return n};import{e as Cr,f as j,g as C,i as T,h as se,j as Y,k as wr,l as Er,m as K,n as X,o as oe,p as fe,q as z,r as ue,s as ce,t as Z,u as le,v as ve,w as Mr,x as ye,y as Rr,z as ge,A as pe,B as he,C as D,D as Fr,E as Lr,F as Nr,G as $e,H as be,I as de,d as or}from"./isEqual.1730bb27.js";import{e as me,R as fr}from"./index.9e13e0a2.js";var _e=/\s/;function Ae(r){for(var e=r.length;e--&&_e.test(r.charAt(e)););return e}var Te=Ae,xe=Te,Se=/^\s+/;function Oe(r){return r&&r.slice(0,xe(r)+1).replace(Se,"")}var Ie=Oe,Pe=Cr,Ce=j,we="[object Symbol]";function Ee(r){return typeof r=="symbol"||Ce(r)&&Pe(r)==we}var U=Ee,Me=Ie,ur=C,Re=U,cr=0/0,Fe=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,Ne=/^0o[0-7]+$/i,je=parseInt;function Ke(r){if(typeof r=="number")return r;if(Re(r))return cr;if(ur(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=ur(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=Me(r);var n=Le.test(r);return n||Ne.test(r)?je(r.slice(2),n?2:8):Fe.test(r)?cr:+r}var De=Ke,Ue=T,Be=U,Ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,He=/^\w*$/;function qe(r,e){if(Ue(r))return!1;var n=typeof r;return n=="number"||n=="symbol"||n=="boolean"||r==null||Be(r)?!0:He.test(r)||!Ge.test(r)||e!=null&&r in Object(e)}var J=qe,jr=se,We="Expected a function";function V(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(We);var n=function(){var t=arguments,a=e?e.apply(this,t):t[0],i=n.cache;if(i.has(a))return i.get(a);var s=r.apply(this,t);return n.cache=i.set(a,s)||i,s};return n.cache=new(V.Cache||jr),n}V.Cache=jr;var Ye=V,Xe=Ye,ze=500;function Ze(r){var e=Xe(r,function(t){return n.size===ze&&n.clear(),t}),n=e.cache;return e}var Je=Ze,Ve=Je,Qe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ke=/\\(\\)?/g,rn=Ve(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(Qe,function(n,t,a,i){e.push(a?i.replace(ke,"$1"):t||n)}),e}),en=rn;function nn(r,e){for(var n=-1,t=r==null?0:r.length,a=Array(t);++n<t;)a[n]=e(r[n],n,r);return a}var Kr=nn,lr=Y,tn=Kr,an=T,sn=U,on=1/0,vr=lr?lr.prototype:void 0,yr=vr?vr.toString:void 0;function Dr(r){if(typeof r=="string")return r;if(an(r))return tn(r,Dr)+"";if(sn(r))return yr?yr.call(r):"";var e=r+"";return e=="0"&&1/r==-on?"-0":e}var fn=Dr,un=fn;function cn(r){return r==null?"":un(r)}var ln=cn,vn=T,yn=J,gn=en,pn=ln;function hn(r,e){return vn(r)?r:yn(r,e)?[r]:gn(pn(r))}var B=hn,$n=U,bn=1/0;function dn(r){if(typeof r=="string"||$n(r))return r;var e=r+"";return e=="0"&&1/r==-bn?"-0":e}var w=dn,mn=B,_n=w;function An(r,e){e=mn(e,r);for(var n=0,t=e.length;r!=null&&n<t;)r=r[_n(e[n++])];return n&&n==t?r:void 0}var Q=An,Tn=Q;function xn(r,e,n){var t=r==null?void 0:Tn(r,e);return t===void 0?n:t}var Ur=xn,cu=Ur,Sn=wr,On=Er,In=1,Pn=2;function Cn(r,e,n,t){var a=n.length,i=a,s=!t;if(r==null)return!i;for(r=Object(r);a--;){var o=n[a];if(s&&o[2]?o[1]!==r[o[0]]:!(o[0]in r))return!1}for(;++a<i;){o=n[a];var u=o[0],f=r[u],c=o[1];if(s&&o[2]){if(f===void 0&&!(u in r))return!1}else{var g=new Sn;if(t)var p=t(f,c,u,r,e,g);if(!(p===void 0?On(c,f,In|Pn,t,g):p))return!1}}return!0}var wn=Cn,En=C;function Mn(r){return r===r&&!En(r)}var Br=Mn,Rn=Br,Fn=K;function Ln(r){for(var e=Fn(r),n=e.length;n--;){var t=e[n],a=r[t];e[n]=[t,a,Rn(a)]}return e}var Nn=Ln;function jn(r,e){return function(n){return n==null?!1:n[r]===e&&(e!==void 0||r in Object(n))}}var Gr=jn,Kn=wn,Dn=Nn,Un=Gr;function Bn(r){var e=Dn(r);return e.length==1&&e[0][2]?Un(e[0][0],e[0][1]):function(n){return n===r||Kn(n,r,e)}}var Gn=Bn;function Hn(r,e){return r!=null&&e in Object(r)}var qn=Hn,Wn=B,Yn=X,Xn=T,zn=oe,Zn=fe,Jn=w;function Vn(r,e,n){e=Wn(e,r);for(var t=-1,a=e.length,i=!1;++t<a;){var s=Jn(e[t]);if(!(i=r!=null&&n(r,s)))break;r=r[s]}return i||++t!=a?i:(a=r==null?0:r.length,!!a&&Zn(a)&&zn(s,a)&&(Xn(r)||Yn(r)))}var Qn=Vn,kn=qn,rt=Qn;function et(r,e){return r!=null&&rt(r,e,kn)}var nt=et,tt=Er,at=Ur,it=nt,st=J,ot=Br,ft=Gr,ut=w,ct=1,lt=2;function vt(r,e){return st(r)&&ot(e)?ft(ut(r),e):function(n){var t=at(n,r);return t===void 0&&t===e?it(n,r):tt(e,t,ct|lt)}}var yt=vt;function gt(r){return r}var Hr=gt;function pt(r){return function(e){return e==null?void 0:e[r]}}var ht=pt,$t=Q;function bt(r){return function(e){return $t(e,r)}}var dt=bt,mt=ht,_t=dt,At=J,Tt=w;function xt(r){return At(r)?mt(Tt(r)):_t(r)}var St=xt,Ot=Gn,It=yt,Pt=Hr,Ct=T,wt=St;function Et(r){return typeof r=="function"?r:r==null?Pt:typeof r=="object"?Ct(r)?It(r[0],r[1]):Ot(r):wt(r)}var qr=Et,Mt=qr,Rt=z,Ft=K;function Lt(r){return function(e,n,t){var a=Object(e);if(!Rt(e)){var i=Mt(n);e=Ft(e),n=function(o){return i(a[o],o,a)}}var s=r(e,n,t);return s>-1?a[i?e[s]:s]:void 0}}var Nt=Lt;function jt(r,e,n,t){for(var a=r.length,i=n+(t?1:-1);t?i--:++i<a;)if(e(r[i],i,r))return i;return-1}var Kt=jt,Dt=De,gr=1/0,Ut=17976931348623157e292;function Bt(r){if(!r)return r===0?r:0;if(r=Dt(r),r===gr||r===-gr){var e=r<0?-1:1;return e*Ut}return r===r?r:0}var Gt=Bt,Ht=Gt;function qt(r){var e=Ht(r),n=e%1;return e===e?n?e-n:e:0}var Wt=qt,Yt=Kt,Xt=qr,zt=Wt,Zt=Math.max;function Jt(r,e,n){var t=r==null?0:r.length;if(!t)return-1;var a=n==null?0:zt(n);return a<0&&(a=Zt(t+a,0)),Yt(r,Xt(e),a)}var Vt=Jt,Qt=Nt,kt=Vt,ra=Qt(kt),ea=ra;function na(r,e){for(var n=-1,t=r==null?0:r.length;++n<t&&e(r[n],n,r)!==!1;);return r}var ta=na,aa=ue,ia=function(){try{var r=aa(Object,"defineProperty");return r({},"",{}),r}catch{}}(),Wr=ia,pr=Wr;function sa(r,e,n){e=="__proto__"&&pr?pr(r,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[e]=n}var Yr=sa,oa=Yr,fa=ce,ua=Object.prototype,ca=ua.hasOwnProperty;function la(r,e,n){var t=r[e];(!(ca.call(r,e)&&fa(t,n))||n===void 0&&!(e in r))&&oa(r,e,n)}var Xr=la,va=Xr,ya=Yr;function ga(r,e,n,t){var a=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var o=e[i],u=t?t(n[o],r[o],o,n,r):void 0;u===void 0&&(u=r[o]),a?ya(n,o,u):va(n,o,u)}return n}var E=ga,pa=E,ha=K;function $a(r,e){return r&&pa(e,ha(e),r)}var ba=$a;function da(r){var e=[];if(r!=null)for(var n in Object(r))e.push(n);return e}var ma=da,_a=C,Aa=Z,Ta=ma,xa=Object.prototype,Sa=xa.hasOwnProperty;function Oa(r){if(!_a(r))return Ta(r);var e=Aa(r),n=[];for(var t in r)t=="constructor"&&(e||!Sa.call(r,t))||n.push(t);return n}var Ia=Oa,Pa=le,Ca=Ia,wa=z;function Ea(r){return wa(r)?Pa(r,!0):Ca(r)}var k=Ea,Ma=E,Ra=k;function Fa(r,e){return r&&Ma(e,Ra(e),r)}var La=Fa,W={exports:{}};(function(r,e){var n=ve,t=e&&!e.nodeType&&e,a=t&&!0&&r&&!r.nodeType&&r,i=a&&a.exports===t,s=i?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function u(f,c){if(c)return f.slice();var g=f.length,p=o?o(g):new f.constructor(g);return f.copy(p),p}r.exports=u})(W,W.exports);function Na(r,e){var n=-1,t=r.length;for(e||(e=Array(t));++n<t;)e[n]=r[n];return e}var ja=Na,Ka=E,Da=Mr;function Ua(r,e){return Ka(r,Da(r),e)}var Ba=Ua,Ga=ye,Ha=Ga(Object.getPrototypeOf,Object),rr=Ha,qa=Rr,Wa=rr,Ya=Mr,Xa=ge,za=Object.getOwnPropertySymbols,Za=za?function(r){for(var e=[];r;)qa(e,Ya(r)),r=Wa(r);return e}:Xa,zr=Za,Ja=E,Va=zr;function Qa(r,e){return Ja(r,Va(r),e)}var ka=Qa,ri=pe,ei=zr,ni=k;function ti(r){return ri(r,ni,ei)}var Zr=ti,ai=Object.prototype,ii=ai.hasOwnProperty;function si(r){var e=r.length,n=new r.constructor(e);return e&&typeof r[0]=="string"&&ii.call(r,"index")&&(n.index=r.index,n.input=r.input),n}var oi=si,hr=he;function fi(r){var e=new r.constructor(r.byteLength);return new hr(e).set(new hr(r)),e}var er=fi,ui=er;function ci(r,e){var n=e?ui(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.byteLength)}var li=ci,vi=/\w*$/;function yi(r){var e=new r.constructor(r.source,vi.exec(r));return e.lastIndex=r.lastIndex,e}var gi=yi,$r=Y,br=$r?$r.prototype:void 0,dr=br?br.valueOf:void 0;function pi(r){return dr?Object(dr.call(r)):{}}var hi=pi,$i=er;function bi(r,e){var n=e?$i(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)}var di=bi,mi=er,_i=li,Ai=gi,Ti=hi,xi=di,Si="[object Boolean]",Oi="[object Date]",Ii="[object Map]",Pi="[object Number]",Ci="[object RegExp]",wi="[object Set]",Ei="[object String]",Mi="[object Symbol]",Ri="[object ArrayBuffer]",Fi="[object DataView]",Li="[object Float32Array]",Ni="[object Float64Array]",ji="[object Int8Array]",Ki="[object Int16Array]",Di="[object Int32Array]",Ui="[object Uint8Array]",Bi="[object Uint8ClampedArray]",Gi="[object Uint16Array]",Hi="[object Uint32Array]";function qi(r,e,n){var t=r.constructor;switch(e){case Ri:return mi(r);case Si:case Oi:return new t(+r);case Fi:return _i(r,n);case Li:case Ni:case ji:case Ki:case Di:case Ui:case Bi:case Gi:case Hi:return xi(r,n);case Ii:return new t;case Pi:case Ei:return new t(r);case Ci:return Ai(r);case wi:return new t;case Mi:return Ti(r)}}var Wi=qi,Yi=C,mr=Object.create,Xi=function(){function r(){}return function(e){if(!Yi(e))return{};if(mr)return mr(e);r.prototype=e;var n=new r;return r.prototype=void 0,n}}(),zi=Xi,Zi=zi,Ji=rr,Vi=Z;function Qi(r){return typeof r.constructor=="function"&&!Vi(r)?Zi(Ji(r)):{}}var ki=Qi,rs=D,es=j,ns="[object Map]";function ts(r){return es(r)&&rs(r)==ns}var as=ts,is=as,ss=Lr,_r=Fr.exports,Ar=_r&&_r.isMap,os=Ar?ss(Ar):is,fs=os,us=D,cs=j,ls="[object Set]";function vs(r){return cs(r)&&us(r)==ls}var ys=vs,gs=ys,ps=Lr,Tr=Fr.exports,xr=Tr&&Tr.isSet,hs=xr?ps(xr):gs,$s=hs,bs=wr,ds=ta,ms=Xr,_s=ba,As=La,Ts=W.exports,xs=ja,Ss=Ba,Os=ka,Is=$e,Ps=Zr,Cs=D,ws=oi,Es=Wi,Ms=ki,Rs=T,Fs=Nr.exports,Ls=fs,Ns=C,js=$s,Ks=K,Ds=k,Us=1,Bs=2,Gs=4,Jr="[object Arguments]",Hs="[object Array]",qs="[object Boolean]",Ws="[object Date]",Ys="[object Error]",Vr="[object Function]",Xs="[object GeneratorFunction]",zs="[object Map]",Zs="[object Number]",Qr="[object Object]",Js="[object RegExp]",Vs="[object Set]",Qs="[object String]",ks="[object Symbol]",ro="[object WeakMap]",eo="[object ArrayBuffer]",no="[object DataView]",to="[object Float32Array]",ao="[object Float64Array]",io="[object Int8Array]",so="[object Int16Array]",oo="[object Int32Array]",fo="[object Uint8Array]",uo="[object Uint8ClampedArray]",co="[object Uint16Array]",lo="[object Uint32Array]",y={};y[Jr]=y[Hs]=y[eo]=y[no]=y[qs]=y[Ws]=y[to]=y[ao]=y[io]=y[so]=y[oo]=y[zs]=y[Zs]=y[Qr]=y[Js]=y[Vs]=y[Qs]=y[ks]=y[fo]=y[uo]=y[co]=y[lo]=!0;y[Ys]=y[Vr]=y[ro]=!1;function N(r,e,n,t,a,i){var s,o=e&Us,u=e&Bs,f=e&Gs;if(n&&(s=a?n(r,t,a,i):n(r)),s!==void 0)return s;if(!Ns(r))return r;var c=Rs(r);if(c){if(s=ws(r),!o)return xs(r,s)}else{var g=Cs(r),p=g==Vr||g==Xs;if(Fs(r))return Ts(r,o);if(g==Qr||g==Jr||p&&!a){if(s=u||p?{}:Ms(r),!o)return u?Os(r,As(s,r)):Ss(r,_s(s,r))}else{if(!y[g])return a?r:{};s=Es(r,g,o)}}i||(i=new bs);var v=i.get(r);if(v)return v;i.set(r,s),js(r)?r.forEach(function(l){s.add(N(l,e,n,l,r,i))}):Ls(r)&&r.forEach(function(l,h){s.set(h,N(l,e,n,h,r,i))});var $=f?u?Ps:Is:u?Ds:Ks,_=c?void 0:$(r);return ds(_||r,function(l,h){_&&(h=l,l=r[h]),ms(s,h,N(l,e,n,h,r,i))}),s}var vo=N;function yo(r){var e=r==null?0:r.length;return e?r[e-1]:void 0}var go=yo;function po(r,e,n){var t=-1,a=r.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(a);++t<a;)i[t]=r[t+e];return i}var ho=po,$o=Q,bo=ho;function mo(r,e){return e.length<2?r:$o(r,bo(e,0,-1))}var _o=mo,Ao=B,To=go,xo=_o,So=w;function Oo(r,e){return e=Ao(e,r),r=xo(r,e),r==null||delete r[So(To(e))]}var Io=Oo,Po=Cr,Co=rr,wo=j,Eo="[object Object]",Mo=Function.prototype,Ro=Object.prototype,kr=Mo.toString,Fo=Ro.hasOwnProperty,Lo=kr.call(Object);function No(r){if(!wo(r)||Po(r)!=Eo)return!1;var e=Co(r);if(e===null)return!0;var n=Fo.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&kr.call(n)==Lo}var jo=No,Ko=jo;function Do(r){return Ko(r)?void 0:r}var Uo=Do,Sr=Y,Bo=X,Go=T,Or=Sr?Sr.isConcatSpreadable:void 0;function Ho(r){return Go(r)||Bo(r)||!!(Or&&r&&r[Or])}var qo=Ho,Wo=Rr,Yo=qo;function re(r,e,n,t,a){var i=-1,s=r.length;for(n||(n=Yo),a||(a=[]);++i<s;){var o=r[i];e>0&&n(o)?e>1?re(o,e-1,n,t,a):Wo(a,o):t||(a[a.length]=o)}return a}var Xo=re,zo=Xo;function Zo(r){var e=r==null?0:r.length;return e?zo(r,1):[]}var Jo=Zo;function Vo(r,e,n){switch(n.length){case 0:return r.call(e);case 1:return r.call(e,n[0]);case 2:return r.call(e,n[0],n[1]);case 3:return r.call(e,n[0],n[1],n[2])}return r.apply(e,n)}var Qo=Vo,ko=Qo,Ir=Math.max;function rf(r,e,n){return e=Ir(e===void 0?r.length-1:e,0),function(){for(var t=arguments,a=-1,i=Ir(t.length-e,0),s=Array(i);++a<i;)s[a]=t[e+a];a=-1;for(var o=Array(e+1);++a<e;)o[a]=t[a];return o[e]=n(s),ko(r,this,o)}}var ef=rf;function nf(r){return function(){return r}}var tf=nf,af=tf,Pr=Wr,sf=Hr,of=Pr?function(r,e){return Pr(r,"toString",{configurable:!0,enumerable:!1,value:af(e),writable:!0})}:sf,ff=of,uf=800,cf=16,lf=Date.now;function vf(r){var e=0,n=0;return function(){var t=lf(),a=cf-(t-n);if(n=t,a>0){if(++e>=uf)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}var yf=vf,gf=ff,pf=yf,hf=pf(gf),$f=hf,bf=Jo,df=ef,mf=$f;function _f(r){return mf(df(r,void 0,bf),r+"")}var Af=_f,Tf=Kr,xf=vo,Sf=Io,Of=B,If=E,Pf=Uo,Cf=Af,wf=Zr,Ef=1,Mf=2,Rf=4,Ff=Cf(function(r,e){var n={};if(r==null)return n;var t=!1;e=Tf(e,function(i){return i=Of(i,r),t||(t=i.length>1),i}),If(r,wf(r),n),t&&(n=xf(n,Ef|Mf|Rf,Pf));for(var a=e.length;a--;)Sf(n,e[a]);return n}),lu=Ff,Lf=be,Nf=D,jf=X,Kf=T,Df=z,Uf=Nr.exports,Bf=Z,Gf=de,Hf="[object Map]",qf="[object Set]",Wf=Object.prototype,Yf=Wf.hasOwnProperty;function Xf(r){if(r==null)return!0;if(Df(r)&&(Kf(r)||typeof r=="string"||typeof r.splice=="function"||Uf(r)||Gf(r)||jf(r)))return!r.length;var e=Nf(r);if(e==Hf||e==qf)return!r.size;if(Bf(r))return!Lf(r).length;for(var n in r)if(Yf.call(r,n))return!1;return!0}var q=Xf,ee={exports:{}};(function(r,e){(function(n,t){r.exports=t()})(me,function(){function n(t){for(var a=5381,i=t.length;i;)a=a*33^t.charCodeAt(--i);return a>>>0}return n})})(ee);var zf=ee.exports;function Zf(r){for(var e=[],n=0;n<r.length;){var t=r[n];if(t==="*"||t==="+"||t==="?"){e.push({type:"MODIFIER",index:n,value:r[n++]});continue}if(t==="\\"){e.push({type:"ESCAPED_CHAR",index:n++,value:r[n++]});continue}if(t==="{"){e.push({type:"OPEN",index:n,value:r[n++]});continue}if(t==="}"){e.push({type:"CLOSE",index:n,value:r[n++]});continue}if(t===":"){for(var a="",i=n+1;i<r.length;){var s=r.charCodeAt(i);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s===95){a+=r[i++];continue}break}if(!a)throw new TypeError("Missing parameter name at "+n);e.push({type:"NAME",index:n,value:a}),n=i;continue}if(t==="("){var o=1,u="",i=n+1;if(r[i]==="?")throw new TypeError('Pattern cannot start with "?" at '+i);for(;i<r.length;){if(r[i]==="\\"){u+=r[i++]+r[i++];continue}if(r[i]===")"){if(o--,o===0){i++;break}}else if(r[i]==="("&&(o++,r[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+i);u+=r[i++]}if(o)throw new TypeError("Unbalanced pattern at "+n);if(!u)throw new TypeError("Missing pattern at "+n);e.push({type:"PATTERN",index:n,value:u}),n=i;continue}e.push({type:"CHAR",index:n,value:r[n++]})}return e.push({type:"END",index:n,value:""}),e}function Jf(r,e){e===void 0&&(e={});for(var n=Zf(r),t=e.prefixes,a=t===void 0?"./":t,i="[^"+P(e.delimiter||"/#?")+"]+?",s=[],o=0,u=0,f="",c=function(b){if(u<n.length&&n[u].type===b)return n[u++].value},g=function(b){var x=c(b);if(x!==void 0)return x;var G=n[u],M=G.type,R=G.index;throw new TypeError("Unexpected "+M+" at "+R+", expected "+b)},p=function(){for(var b="",x;x=c("CHAR")||c("ESCAPED_CHAR");)b+=x;return b};u<n.length;){var v=c("CHAR"),$=c("NAME"),_=c("PATTERN");if($||_){var l=v||"";a.indexOf(l)===-1&&(f+=l,l=""),f&&(s.push(f),f=""),s.push({name:$||o++,prefix:l,suffix:"",pattern:_||i,modifier:c("MODIFIER")||""});continue}var h=v||c("ESCAPED_CHAR");if(h){f+=h;continue}f&&(s.push(f),f="");var d=c("OPEN");if(d){var l=p(),O=c("NAME")||"",m=c("PATTERN")||"",I=p();g("CLOSE"),s.push({name:O||(m?o++:""),pattern:O&&!m?i:m,prefix:l,suffix:I,modifier:c("MODIFIER")||""});continue}g("END")}return s}function Vf(r,e){var n=[],t=nr(r,n,e);return Qf(t,n,e)}function Qf(r,e,n){n===void 0&&(n={});var t=n.decode,a=t===void 0?function(i){return i}:t;return function(i){var s=r.exec(i);if(!s)return!1;for(var o=s[0],u=s.index,f=Object.create(null),c=function(p){if(s[p]===void 0)return"continue";var v=e[p-1];v.modifier==="*"||v.modifier==="+"?f[v.name]=s[p].split(v.prefix+v.suffix).map(function($){return a($,v)}):f[v.name]=a(s[p],v)},g=1;g<s.length;g++)c(g);return{path:o,index:u,params:f}}}function P(r){return r.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function ne(r){return r&&r.sensitive?"":"i"}function kf(r,e){if(!e)return r;var n=r.source.match(/\((?!\?)/g);if(n)for(var t=0;t<n.length;t++)e.push({name:t,prefix:"",suffix:"",modifier:"",pattern:""});return r}function ru(r,e,n){var t=r.map(function(a){return nr(a,e,n).source});return new RegExp("(?:"+t.join("|")+")",ne(n))}function eu(r,e,n){return nu(Jf(r,n),e,n)}function nu(r,e,n){n===void 0&&(n={});for(var t=n.strict,a=t===void 0?!1:t,i=n.start,s=i===void 0?!0:i,o=n.end,u=o===void 0?!0:o,f=n.encode,c=f===void 0?function(b){return b}:f,g="["+P(n.endsWith||"")+"]|$",p="["+P(n.delimiter||"/#?")+"]",v=s?"^":"",$=0,_=r;$<_.length;$++){var l=_[$];if(typeof l=="string")v+=P(c(l));else{var h=P(c(l.prefix)),d=P(c(l.suffix));if(l.pattern)if(e&&e.push(l),h||d)if(l.modifier==="+"||l.modifier==="*"){var O=l.modifier==="*"?"?":"";v+="(?:"+h+"((?:"+l.pattern+")(?:"+d+h+"(?:"+l.pattern+"))*)"+d+")"+O}else v+="(?:"+h+"("+l.pattern+")"+d+")"+l.modifier;else v+="("+l.pattern+")"+l.modifier;else v+="(?:"+h+d+")"+l.modifier}}if(u)a||(v+=p+"?"),v+=n.endsWith?"(?="+g+")":"$";else{var m=r[r.length-1],I=typeof m=="string"?p.indexOf(m[m.length-1])>-1:m===void 0;a||(v+="(?:"+p+"(?="+g+"))?"),I||(v+="(?="+p+"|"+g+")")}return new RegExp(v,ne(n))}function nr(r,e,n){return r instanceof RegExp?kf(r,e):Array.isArray(r)?ru(r,e,n):eu(r,e,n)}var tr=(r=>(r.Route="route",r.Dynamic="dynamic",r))(tr||{});const L={};function tu(r,e){const{pathname:n}=r;if(L[n])return L[n];function t(i,s){let o;const u=i.find(c=>c.path===n&&c.redirect);if(u)return S(A({},u),{renderKey:u.redirect});const f=ea(i,c=>!c.redirect&&nr(`${c.path}(.*)`).test(n));return(!s&&f||s&&!s.component&&f)&&(o=S(A({},f),{renderKey:f.redirect||f.path})),(s==null?void 0:s.hideChildrenInMenu)&&f&&(o=S(A({},f),{renderKey:s.path})),Array.isArray(f==null?void 0:f.children)&&(f==null?void 0:f.children.length)&&(o=t(f.children,f)||o),Array.isArray(f==null?void 0:f.routes)&&(f==null?void 0:f.routes.length)&&(o=t(f.routes,f)||o),o}const a=t(e,null);return L[n]=S(A({},a),{path:n}),L[n]}function au(r,e){return Vf(r)(e).params}function vu(r){const{location:e,mode:n,originalRoutes:t,setTabName:a}=r,i=tu(e,t);if(!i||n===tr.Route)return i;const s=au(i.renderKey,e.pathname),{search:o,state:u={}}=e;let f="";if(!q(s)||!q(o)||!q(u)){const c=A(S(A({},s),{search:o.charAt(0)==="?"?o.slice(1):o}),u);f=zf(JSON.stringify(c))}return S(A({},i),{hash:f,name:(a==null?void 0:a({path:i.path,name:i.name,params:s,location:e}))||i.name})}const iu=(r,e)=>{const M=r,{children:n,computedMatch:t,history:a,location:i,match:s,route:o,staticContext:u}=M,f=H(M,["children","computedMatch","history","location","match","route","staticContext"]),R=e,{children:c,computedMatch:g,history:p,location:v,match:$,route:_,staticContext:l}=R,h=H(R,["children","computedMatch","history","location","match","route","staticContext"]);if(!or(f,h))return console.log(`${i.pathname}: update by props`),!1;const{pathname:d,search:O,state:m}=i||{},{pathname:I,search:b,state:x}=v||{};return d!==I||O!==b||!or(m,x)?(console.log(`${i.pathname} -> ${I}: update by route or params`),!1):(console.log(`without re-render: ${d}`),!0)};function yu(r){const e=fr.memo(n=>fr.createElement(r,A({},n)),iu);return e.displayName=`WithRoutePage(${su(r)})`,e}function su(r){return r.displayName||r.name||"Component"}function gu(r,e){return e===tr.Dynamic&&(r==null?void 0:r.hash)?`${r.renderKey}-${r.hash}`:r.renderKey}export{tr as M,cu as _,gu as a,Vt as b,ea as f,vu as g,lu as o,yu as w};
